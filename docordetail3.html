<!DOCTYPE html>
<html lang="kr">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>드론 호출</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../assets/docor.css">
    <link rel="stylesheet" href="../assets/alarm.css    ">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <!-- firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>   
    
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyCrFuy6g93AKQUWW_mWDI0OK_As0X386io",
            authDomain: "oryangcompany.firebaseapp.com",
            projectId: "oryangcompany",
            storageBucket: "oryangcompany.appspot.com",
            messagingSenderId: "39452497785",
            appId: "1:39452497785:web:79ccc25b73be2f819781a8"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
</head>
<body>
    <div class="headbar">
        <div style="width: 1.5rem;"></div>
        <div style="width: 100%; display: flex; flex-direction: row; align-items: center; justify-content: center;">
            <a href="docor.html">
                <div class="doctordetailbutton">
                    <p class="text chosed">의사소견</p>
                </div>
            </a>
        </div>
        <div style="width: 1.5rem;"></div>
    </div>
    
    <div style="height: 3rem;"></div>
    <div style="width: 19.5rem; margin: 0 auto;">

        <div style="display: block;">
            <p class="doctorsaid">의사소견</p>
        </div>
        <div style="height: 1rem;"></div>
        <p class="doctortext">
            따뜻한 물 평소에 많이 챙겨 드시고<br>
            약 꼭 다 챙겨드세요<br>
            증상이 완화되지 않으며 재방문 하셔서 약 다시 처방 받으세요<br>
        </p>

        <svg xmlns="http://www.w3.org/2000/svg" width="290" height="2" viewBox="0 0 290 2" fill="none">
            <path d="M1 1H289" stroke="#D9D9D9" stroke-linecap="square"/>
        </svg>

        <div style="height: 0.75rem;"></div>
        <div style="display: block;">
            <p class="doctorsaid">약 종류</p>
        </div>
        <div style="height: 1rem;"></div>
        <div style="width: 100%;">
            <div class="drugcontain">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                    <rect x="18.5" y="12.5" width="11" height="23" rx="5.5" fill="#FF8888" stroke="black"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="2" height="36" viewBox="0 0 2 36" fill="none">
                    <path d="M1 0V36" stroke="#D9D9D9"/>
                </svg>
                <div style="width: 1rem;"></div>
                <p class="doctorname" style="font-size: 0.75rem;">샬모니오나</p>
            </div>
            <div class="drugcontain">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                    <rect x="18.5" y="18.5" width="11" height="11" rx="5.5" stroke="black"/>
                    <rect x="18.5" y="18.5" width="11" height="11" rx="5.5" fill="#F5F5F5" stroke="black"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="2" height="36" viewBox="0 0 2 36" fill="none">
                    <path d="M1 0V36" stroke="#D9D9D9"/>
                </svg>
                <div style="width: 1rem;"></div>
                <p class="doctorname" style="font-size: 0.75rem;">포플리에나 센프린</p>
            </div>
            <div class="drugcontain">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                    <rect x="15.5" y="12.5" width="17" height="23" rx="8.5" fill="#B6E9FF" stroke="black"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="2" height="36" viewBox="0 0 2 36" fill="none">
                    <path d="M1 0V36" stroke="#D9D9D9"/>
                </svg>
                <div style="width: 1rem;"></div>
                <p class="doctorname" style="font-size: 0.75rem;">아리질레니아 브리젠</p>
            </div>
            
        </div>
        <div style="height: 1rem;"></div>

        <svg xmlns="http://www.w3.org/2000/svg" width="290" height="2" viewBox="0 0 290 2" fill="none">
            <path d="M1 1H289" stroke="#D9D9D9" stroke-linecap="square"/>
        </svg>

        <div style="height: 0.75rem;"></div>
        <div style="display: block;">
            <p class="doctorsaid">약 기간 한도</p>
        </div>
        <div style="height: 1rem;"></div>
        <div style="display: flex; flex-wrap: wrap;">
            <div class="datebox"><p class="datetext">12월 20일</p></div>
            <div class="datebox today"><p class="datetext">12월 21일</p></div>
            <div class="datebox"><p class="datetext">12월 22일</p></div>
            <div class="datebox"><p class="datetext">12월 23일</p></div>
            <div class="datebox"><p class="datetext">12월 24일</p></div>
            <div class="datebox"><p class="datetext">12월 25일</p></div>
            <div class="datebox"><p class="datetext last">12월 26일</p></div>
        </div>

        <div style="height: 1.25rem;"></div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">
                <circle cx="24" cy="25" r="9.5" stroke="#FF0000"/>
                <path d="M22 16V14C22 13.4477 22.4477 13 23 13H25C25.5523 13 26 13.4477 26 14V16" stroke="#FF0000"/>
                <circle cx="24" cy="25" r="1" fill="#FF0000"/>
                <path d="M24 17V24.5858C24 24.851 24.1054 25.1054 24.2929 25.2929L28 29" stroke="#FF0000"/>
            </svg>
            <div class="timerbox"><p class="alarmtext">11 : 00</p></div>
            <p class="timertext" id="a">다음 약까지 1시간 32분</p>
        </div>

        <svg xmlns="http://www.w3.org/2000/svg" width="290" height="2" viewBox="0 0 290 2" fill="none">
            <path d="M1 1H289" stroke="#D9D9D9" stroke-linecap="square"/>
        </svg>

        <div style="height: 3.5rem; display: flex; align-items: center; background-color: var(--white); flex-direction: row;">
            <p class="doctoradd" style="margin: 0;">약 종류 및 알람, 날짜 공지 기능은 만기일 후 삭제됩니다. </p>
        </div>

        <div style="height: 3.5rem; display: flex; align-items: center; background-color: var(--white); flex-direction: row;">
            <p class="doctorname" style="margin: 0;">처방의사 : 박진호</p>
            <p class="doctoradd">2023 - 11 - 09</p>
        </div>

        <div style="height: 9rem;"></div>
    </div>
    <script>
        function calculateTimeDifference(time1, time2) {
            // 시간 문자열을 시와 분으로 분리
            const [hour1, minute1] = time1.split(':').map(Number);
            const [hour2, minute2] = time2.split(':').map(Number);
        
            // 각 시간을 분 단위로 변환
            const totalMinutes1 = hour1 * 60 + minute1;
            const totalMinutes2 = hour2 * 60 + minute2;
            // 차이 계산
            const differenceInMinutes = totalMinutes2 - totalMinutes1 > 0 ? totalMinutes2 - totalMinutes1 : 24*60+(totalMinutes2 - totalMinutes1);
            // 결과 출력
            return (`${Math.floor(differenceInMinutes / 60)}:${differenceInMinutes % 60}`);
        }
        let today = new Date();
        let now = today.getHours()+':'+today.getMinutes();
        let a_time = calculateTimeDifference(now ,'8:30');
        document.getElementById("a").innerText = '다음 알람까지 : ' + a_time;
    </script>
</body>
</html>